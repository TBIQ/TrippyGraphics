(window.webpackJsonptrippy=window.webpackJsonptrippy||[]).push([[0],{104:function(e,t,n){},109:function(e,t,n){},168:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(4),i=n.n(o),l=(n(104),n(68)),s=n.n(l),c=n(88),u=n(43),p=n(97),d=n(3),f=n(89),g=(n(106),n(37)),m=n.n(g);n(107);function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new d.p(0,0,0),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new d.p(0,0,1),a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new d.p(1,0,0),r={};return r.tracer=new d.p,r.geometry=new d.b(e,30),r.material=new d.h({color:255,side:d.e}),r.pos=function(r){return this.tracer.copy(a),this.tracer.applyAxisAngle(n,r),this.tracer.multiplyScalar(e),this.tracer.add(t),(new d.p).copy(this.tracer)},r.render=function(e){var n=this.geometry,a=this.material,r=new d.g(n,a),o=t.x,i=t.y,l=t.z;r.position.set(o,i,l),e.add(r)},r}function w(e){var t=new d.d(e),n=t.r,a=t.g,r=t.b;return new d.p(n,a,r)}function b(e){var t=this;this.start=function(){var n=new d.p(0,0,0);t.colorsArr=["rgb(244, 67, 54)","rgb(233, 30, 99)","rgb(156, 39, 176)","rgb(103, 58, 183)","rgb(63, 81, 181)","rgb(33, 150, 243)","rgb(3, 169, 244)","rgb(0, 188, 212)","rgb(0, 150, 136)","rgb(76, 175, 80)","rgb(139, 195, 74)","rgb(205, 220, 57)","rgb(255, 235, 59)","rgb(255, 193, 7)","rgb(255, 152, 0)","rgb(255, 87, 34)"],t.colorsObj=m.a.range(0,t.colorsArr.length).reduce(function(e,n,a){return e[n]=t.colorsArr[n],e},{}),t.setCameraStateToDefaults=function(e){t.nearClipDistance=.1,t.farClipDistance=400,t.fovDegrees=40,e.fov=t.fovDegrees,e.aspect=window.innerWidth/window.innerHeight,e.near=t.nearClipDistance,e.far=t.farClipDistance,e.updateProjectionMatrix()},t.setAnimationStateToDefaults=function(){t.cameraStepPerFrame=.3,t.rotate=!1,t.glide=!1,t.forward=!0,t.rotateStep=Math.PI/180},t.setEngineDerivedProperties=function(){t.angularStep=2*Math.PI/t.numAngularSteps,t.angularIndicesToRender=m.a.range(0,t.numAngularSteps)},t.setEngineToDefaultState=function(){t.planeHeight=3,t.numAngularSteps=12,t.numObjectsPerAngle=25,t.radius=5,t.angularOffset=0,t.uniformZSpacing=1,t.focalDilationFrontFar=1,t.focalDilationFrontNear=.77,t.parabolicDistortion=1,t.lensWidthFar=t.planeHeight/2,t.lensWidthNear=.75*t.lensWidthFar,t.angularStep=2*Math.PI/t.numAngularSteps,t.lensAngularStep=t.angularStep/3.5},t.setAnimationStateToDefaults(),t.setEngineToDefaultState(),t.setEngineDerivedProperties(),t.planeSetByAngularIndex={},t.geometries={},t.transforms={},t.uniforms={time:{value:1},speed:{value:6},colors:{type:"v3v",value:t.colorsArr.map(w)},parabolicDistortion:{value:t.parabolicDistortion}};var a=function(e){var t=new d.n,n=new d.i(75,window.innerWidth/window.innerHeight,.1,1e3),a=new d.q;return a.setSize(window.innerWidth,window.innerHeight),e.appendChild(a.domElement),{scene:t,camera:n,renderer:a}}(e),r=a.scene,o=a.camera,i=a.renderer;t.setCameraStateToDefaults(o);var l=new d.c;r.add(new d.a(4210752)),o.add(new d.l(16777215,1)),t.clearScene=function(){for(;r.children.length>0;)r.remove(r.children[0])};var s=document.getElementById("vertex-shader-uv-parabolic").textContent,c=document.getElementById("fragment-shader-cycling-discrete-gradient").textContent,u=new d.o({uniforms:t.uniforms,vertexShader:s,fragmentShader:c,side:d.e,defines:{NUMCOLORS:t.colorsArr.length}}),g=new d.p(0,0,0),b=new d.p,v=new d.p,S=new d.j,y=new d.f,D=new d.f,F=new d.m,A=new d.m,j=new d.p,O=new d.p,P=new d.p,C=new d.p,x=new d.p,W=new d.p,E=new d.p,N=new d.p(0,0,1),H=null,I=null;t.renderObjects=function(e){if(e){t.setEngineToDefaultState();for(var n,a=0,i=Object.keys(e);a<i.length;a++){var l=i[a];t[l]=e[l]}if(t.setEngineDerivedProperties(),e.parabolicDistortion&&(t.uniforms.parabolicDistortion.value=e.parabolicDistortion),e.cameraPos)(n=o.position).set.apply(n,Object(p.a)(e.cameraPos)),o.updateProjectionMatrix()}var s=new h(t.radius*t.focalDilationFrontNear,b.copy(g).add(new d.p(0,0,t.lensWidthNear))),c=new h(t.radius,g),f=new h(t.radius*t.focalDilationFrontFar,v.copy(g).add(new d.p(0,0,t.lensWidthFar)));!function(){for(var e=0;e<t.numAngularSteps;e++){var n=t.angularStep*e+t.angularOffset,a=s.pos(n-t.lensAngularStep),r=c.pos(n),o=f.pos(n+t.lensAngularStep),i=a.distanceTo(o);H=new d.k(i,t.planeHeight,30);var l=new d.g(H,u);S.setFromCoplanarPoints(a,r,o),C.crossVectors((new d.p).subVectors(o,a).normalize(),S.normal).normalize(),C.z>0&&C.negate(),j.copy(C).multiplyScalar(t.planeHeight),O.copy(j).multiplyScalar(.5),P.lerpVectors(a,o,.5),x.addVectors(P,O),W.addVectors(o,j),E.addVectors(a,j),I=[a,o,W,E];var p=new d.f;F.setFromUnitVectors(N,S.normal),p.multiply(D.makeTranslation(x.x,x.y,x.z)),p.multiply(D.makeRotationFromQuaternion(F)),A.setFromUnitVectors(j.copy(l.geometry.vertices[1]).applyMatrix4(p).sub(x).normalize(),O.subVectors(I[1],x).normalize()),p.identity(),p.multiply(D.makeRotationFromQuaternion(F.premultiply(A))),t.transforms[e]=p,t.geometries[e]=H}}(),function(){for(var e=0;e<t.numAngularSteps;e++){t.planeSetByAngularIndex[e]||(t.planeSetByAngularIndex[e]=[]);for(var n=0;n<t.numObjectsPerAngle;n++){y.identity(),y.makeTranslation(0,0,n);var a=new d.g(H,u);a.applyMatrix(t.transforms[e].premultiply(y)),r.add(a),t.planeSetByAngularIndex[e].push(a)}}}()};var R=n.x,k=n.y,M=n.z;o.position.set(R,k,M-12),o.lookAt(R,k,M+1);t.fullReRender=function(e){t.clearScene(),t.renderObjects("object"===typeof e?e:null)},t.renderObjects(),t.enableGuiControls=function(){var e=new f.a;e.add(t,"farClipDistance",100,1e3).step(10),e.add(t,"cameraStepPerFrame",0,10).step(.05),e.add(t,"rotate").listen(),e.add(t,"glide").listen(),e.add(t,"forward");for(var n=e.add(t,"radius",.1,10).step(.5).listen(),a=e.add(t,"lensWidthFar",0,10).step(.1).listen(),r=e.add(t,"lensWidthNear",0,10).step(.1).listen(),o=e.add(t,"focalDilationFrontNear",.01,1).listen(),i=e.add(t,"focalDilationFrontFar",.01,1).listen(),l=e.add(t,"lensAngularStep",0,2*Math.PI).step(2*Math.PI/100).listen(),s=e.add(t,"planeHeight",.5,8).step(.125).listen(),c=e.add(t,"parabolicDistortion",0,10).step(.25).listen(),u=0,p=[n,a,r,o,i,l,s];u<p.length;u++){p[u].onChange(t.fullReRender)}e.add(t,"numAngularSteps",1,24).step(1).listen().onChange(function(e){t.numAngularSteps=e,t.angularStep=2*Math.PI/e,t.fullReRender()}),c.onChange(function(e){return t.uniforms.parabolicDistortion.value=e});for(var d=e.addFolder("color"),g=0;g<t.colorsArr.length;g++)d.addColor(t.colorsObj,g).onChange(m.a.partial(function(e,n){t.uniforms.colors.value[e]=w(n)},g))},function e(){if(requestAnimationFrame(e),t.uniforms.time.value+=l.getDelta(),t.farClipDistance!==o.far&&(o.far=t.farClipDistance,o.updateProjectionMatrix()),t.glide&&o.position.set(0,0,o.position.z+t.cameraStepPerFrame*(t.forward?1:-1)),t.rotate){var n=o.rotation,a=n.x,s=n.y,c=n.z;o.rotation.set(a,s,c+t.rotateStep)}i.render(r,o)}()}}var v={one:{rotate:!0,glide:!1,radius:2,lensWidthFar:1.5,lensWidthNear:1.1,focalDilationFrontNear:.77,focalDilationFrontFar:1,lensAngularStep:.15,numAngularSteps:12,planeHeight:3,parabolicDistortion:1,cameraPos:[0,0,-8.4]},two:{rotate:!0,glide:!1,radius:5,lensWidthFar:3.3,lensWidthNear:3.9,focalDilationFrontNear:.17,focalDilationFrontFar:.2,lensAngularStep:3.76,numAngularSteps:24,planeHeight:4,parabolicDistortion:1,cameraPos:[0,0,-9.6]},three:{rotate:!0,glide:!1,radius:1,lensWidthFar:2.8,lensWidthNear:5.5,focalDilationFrontNear:1,focalDilationFrontFar:1,lensAngularStep:.5,numAngularSteps:24,planeHeight:2,parabolicDistortion:.25,cameraPos:[0,0,-5.8]},four:{rotate:!0,glide:!1,radius:1,lensWidthFar:3.6,lensWidthNear:3.6,focalDilationFrontNear:.43,focalDilationFrontFar:.8,lensAngularStep:.063,numAngularSteps:24,planeHeight:1.5,parabolicDistortion:.75,cameraPos:[0,0,-5.8]},five:{rotate:!0,glide:!1,radius:1,lensWidthFar:4.3,lensWidthNear:3.6,focalDilationFrontNear:.43,focalDilationFrontFar:1,lensAngularStep:.063,numAngularSteps:24,planeHeight:8,parabolicDistortion:1.25,cameraPos:[0,0,-5.8]}},S=n(170),y=n(171),D=(n(109),n(110),S.a.Option),F=y.a.Header,A=y.a.Content;var j=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(!1),n=Object(u.a)(t,2),o=n[0],i=n[1],l=Object(a.useState)([]),p=Object(u.a)(l,2),d=p[0],f=p[1],g=Object(a.useState)("five"),m=Object(u.a)(g,2),h=m[0],w=m[1],j=Object(a.useState)(null),O=Object(u.a)(j,2),P=O[0],C=O[1];return Object(a.useEffect)(function(){function t(){return(t=Object(c.a)(s.a.mark(function t(){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=new b(e.current)).start(),n.enableGuiControls(),i(!0),C(n);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}e.current&&!o&&function(){t.apply(this,arguments)}()},[e]),Object(a.useState)(function(){f(Object.keys(v))},[]),Object(a.useEffect)(function(){if(h&&o){var e=v[h];P.fullReRender(e)}},[h,o]),r.a.createElement(y.a,null,r.a.createElement(F,{style:{padding:"0 15px",borderBottom:"1px solid #e6e6e6",height:60}},r.a.createElement("h3",{style:{display:"inline",color:"#fff",marginRight:5}},"Presets: "),r.a.createElement(S.a,{defaultValue:h,allowClear:!0,style:{width:200},placeholder:"Select a configuration",onChange:function(e){return w(e)}},d.map(function(e){return r.a.createElement(D,{value:e},e)}))),r.a.createElement(A,null,r.a.createElement("div",{ref:e})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},99:function(e,t,n){e.exports=n(168)}},[[99,1,2]]]);
//# sourceMappingURL=main.6b82253c.chunk.js.map